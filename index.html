<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ECA Planner ‚Äî HeadStart</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <!-- html2canvas for image generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  <div class="bg-gradient"></div>
  
  <div class="app">
    <header class="header">
      <div class="lang-switcher" id="lang-switcher">
        <button class="lang-btn" data-lang="en" title="English">üá¨üáß</button>
        <button class="lang-btn" data-lang="ru" title="–†—É—Å—Å–∫–∏–π">üá∑üá∫</button>
        <button class="lang-btn" data-lang="zh" title="‰∏≠Êñá">üá®üá≥</button>
        <button class="lang-btn" data-lang="fr" title="Fran√ßais">üá´üá∑</button>
        <button class="lang-btn" data-lang="th" title="‡πÑ‡∏ó‡∏¢">üáπüá≠</button>
      </div>
      <h1>‚ú® ECA Planner</h1>
      <p>HeadStart ‚Ä¢ Term 2&3 2025-2026</p>
      <div class="support-section">
        <a href="https://www.buymeacoffee.com/damuraiz" target="_blank" class="support-btn" title="Support this project">
          <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee">
        </a>
        <div class="messenger-buttons">
          <a href="#" class="messenger-btn" id="telegram-btn" title="Share on Telegram" onclick="shareToTelegram(event)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.193l-1.87 8.81c-.138.625-.49.778-.99.473l-2.736-2.01-1.32 1.27c-.146.146-.27.27-.554.27l.198-2.79 5.06-4.57c.22-.196-.048-.304-.342-.11l-6.25 3.94-2.696-.844c-.59-.186-.604-.59.12-.88l10.47-4.04c.49-.18.92.11.76.78z"/>
            </svg>
          </a>
          <a href="#" class="messenger-btn" id="whatsapp-btn" title="Share on WhatsApp" onclick="shareToWhatsApp(event)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
            </svg>
          </a>
          <a href="#" class="messenger-btn" id="line-btn" title="Share on Line" onclick="shareToLine(event)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.346 0 .627.285.627.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.058.896-.018.125-.059.27-.09.404-.03.135-.057.27-.08.406-.052.314-.11.625-.11.625s.275.354.733.537c.33.13.776.223 1.308.297.488.068 1.05.082 1.656.082 6.615 0 12-4.371 12-9.742"/>
            </svg>
          </a>
        </div>
      </div>
    </header>

    <!-- Screen: Children List -->
    <div id="screen-children" class="screen active">
      <div class="card">
        <div class="card-title">
          <span class="icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</span>
          –í–∞—à–∏ –¥–µ—Ç–∏
        </div>
        <div id="children-list" class="children-grid"></div>
      </div>

      <div id="selected-summary" class="card" style="display: none;">
        <div class="card-title">
          <span class="icon">üìã</span>
          –û–±—â–∞—è —Å–≤–æ–¥–∫–∞
          <div style="display: flex; gap: 8px; margin-left: auto;">
            <button class="share-btn" onclick="shareScheduleAsImage()" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
                <polyline points="16 6 12 2 8 6"/>
                <line x1="12" y1="2" x2="12" y2="15"/>
              </svg>
            </button>
            <button class="print-btn" onclick="togglePrintMode(true)" title="–†–µ–∂–∏–º –ø–µ—á–∞—Ç–∏">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M6 9V2h12v7"/>
                <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2"/>
                <rect x="6" y="14" width="12" height="8"/>
              </svg>
            </button>
          </div>
        </div>
        <div id="total-summary"></div>
      </div>
      
      <!-- Print mode close button -->
      <button class="print-close-btn" id="print-close" onclick="togglePrintMode(false)">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 6L6 18M6 6l12 12"/>
        </svg>
        –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
      </button>
    </div>

    <!-- Screen: ECA Selection -->
    <div id="screen-eca" class="screen">
      <div class="eca-header">
        <div class="eca-header-left">
          <button class="back-btn" onclick="showChildrenScreen()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
          </button>
          <div class="current-child">
            <div class="current-child-avatar" id="current-avatar">üëß</div>
            <div class="current-child-info">
              <h2 id="current-name">‚Äî</h2>
              <span id="current-year">‚Äî</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Time Filters -->
      <div class="card">
        <div class="card-title">
          <span class="icon">‚è∞</span>
          –í—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç
        </div>
        <div class="time-filters" id="time-filters"></div>
      </div>

      <!-- Schedule -->
      <div class="schedule-container" id="schedule-grid"></div>
    </div>
  </div>

  <!-- Summary Panel -->
  <div class="summary-panel" id="summary-panel">
    <div class="summary-content">
      <div class="summary-info">
        <div class="summary-stat">
          <div class="summary-stat-value free" id="summary-free">0/3</div>
          <div class="summary-stat-label">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö</div>
        </div>
        <div class="summary-stat">
          <div class="summary-stat-value paid" id="summary-extra">0</div>
          <div class="summary-stat-label">–î–æ–ø. –∑–∞–Ω—è—Ç–∏–π</div>
        </div>
        <div class="summary-stat">
          <div class="summary-stat-value total" id="summary-total">0 ‡∏ø</div>
          <div class="summary-stat-label">–ò—Ç–æ–≥–æ</div>
        </div>
      </div>
      <button class="btn btn-primary" onclick="showChildrenScreen()">
        ‚úì –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
      </button>
    </div>
  </div>

  <!-- Modal: Add/Edit Child -->
  <div class="modal-overlay" id="modal-child">
    <div class="modal">
      <div class="modal-title" id="modal-title">–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–±—ë–Ω–∫–∞</div>
      
      <div class="modal-section">
        <div class="modal-section-title">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label" for="child-name">–ò–º—è</label>
            <input type="text" class="form-input" id="child-name" placeholder="–ö–∏—Ä–∞">
          </div>
          <div class="form-group">
            <label class="form-label" for="child-gender">–ü–æ–ª</label>
            <select class="form-select" id="child-gender">
              <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
              <option value="girl">üëß –î–µ–≤–æ—á–∫–∞</option>
              <option value="boy">üë¶ –ú–∞–ª—å—á–∏–∫</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label" for="child-year">–ö–ª–∞—Å—Å</label>
            <select class="form-select" id="child-year">
              <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å</option>
              <option value="-1">Preschool</option>
              <option value="0-ey">Early Years</option>
              <option value="0">Reception</option>
              <option value="1">Year 1</option>
              <option value="2">Year 2</option>
              <option value="3">Year 3</option>
              <option value="4">Year 4</option>
              <option value="5">Year 5</option>
              <option value="6">Year 6</option>
              <option value="7">Year 7</option>
              <option value="8">Year 8</option>
              <option value="9">Year 9</option>
              <option value="10">Year 10</option>
              <option value="11">Year 11</option>
              <option value="12">Year 12</option>
              <option value="13">Year 13</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label" for="child-campus">–ö–∞–º–ø—É—Å</label>
            <select class="form-select" id="child-campus">
              <option value="chaofa">Chaofa</option>
              <option value="cherngtalay">Cherngtalay</option>
            </select>
          </div>
        </div>
      </div>

      <div class="modal-section">
        <div class="modal-section-title">–û—Å–æ–±—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã</div>
        <div class="toggle-group" id="special-programs"></div>
      </div>

      <div class="modal-section">
        <div class="modal-section-title">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
        <div class="toggle-group" id="extra-categories"></div>
      </div>

      <div class="modal-actions">
        <button class="btn btn-secondary" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
        <button class="btn btn-primary" onclick="saveChild()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <script src="translations.js"></script>
  <script src="app.js"></script>
  <!-- GoatCounter Analytics -->
  <script data-goatcounter="https://damuraiz.goatcounter.com/count"
          async src="//gc.zgo.at/count.js"></script>
</body>
</html>
